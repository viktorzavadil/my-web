---
title: "StavÃ­m vlastnÃ­ Home Assistant server"
description: "DÃ¡vÃ¡m dohromady vlastnÃ­ chytrou domÃ¡cnost. LokÃ¡lnÃ­ server bez cloudu (zatÃ­m)."
pubDate: 2024-12-09
tags: ["home-assistant", "iot", "node-red", "zigbee", "influxdb", "grafana", "zigbee2mqtt"]
---

## Stack

- **Zigbee2MQTT** + **Sonoff Zigbee 3.0 USB Dongle Plus** â€“ komunikace se senzory
- **Mosquitto** â€“ MQTT broker
- **Node-RED** â€“ prototypovÃ¡nÃ­ automatizacÃ­
- **InfluxDB** â€“ time-series databÃ¡ze pro historickÃ¡ data
- **Grafana** â€“ vizualizace a dashboardy

VÅ¡e bÄ›Å¾Ã­ v dockeru. ZatÃ­m Å™eÅ¡Ã­m logiku v Node-RED, protoÅ¾e se mi v nÄ›m rychle prototypuje, ale Äasem by si to zaslouÅ¾ilo
vlastnÃ­ server (tÅ™eba v **go**).

## ÄŒidla

Senzory vybÃ­rÃ¡m podle [podporovanÃ½ch zaÅ™Ã­zenÃ­ na Zigbee2MQTT](https://www.zigbee2mqtt.io/supported-devices/). DÃ­ky tomu je integrace bezproblÃ©movÃ¡ â€“ je zde uveden i nÄ›jakÃ½ troubleshooting.

ZatÃ­m jsem objednal na otestovÃ¡nÃ­ nÃ¡sledujÃ­cÃ­ zaÅ™Ã­zenÃ­:
- **Sonoff SNZB-02D** â€“ teplota a vlhkost
- **Sonoff SNZB-03** â€“ pohybovÃ½ senzor
- **Third Reality 3RMS16BZ** â€“ pohybovÃ½ senzor
- **IKEA STYRBAR** â€“ ovladaÄ (ten uÅ¾ jsem mÄ›l doma ke kuchyni ğŸ˜€)

VÅ¡echny zaÅ™Ã­zenÃ­ se povedlo naintegrovat bez potÃ­Å¾Ã­.

## CÃ­le
- JednoduchÃ½ **bezpeÄnostnÃ­ systÃ©m**: pohybovÃ¡ Äidla budou detekovat pohyb.
- Monitoring **teploty**, **vlhkosti** a dopoÄÃ­tÃ¡vÃ¡nÃ­ **rosnÃ©ho bodu** kvÅ¯li prevenci plÃ­snÃ­.
- ZautomatizovÃ¡nÃ­ ovlÃ¡dÃ¡nÃ­ svÄ›tel (tÅ™eba tÄ›ch vÃ¡noÄnÃ­ch ğŸ„).
- Integrace vlastnÃ­ch **ESP32** aplikacÃ­.